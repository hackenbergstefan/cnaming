os: linux
dist: bionic
language: python
python:
  - "3.7"
  - "3.8"
before_install:
  - sudo apt-get -y install libclang-8-dev
  - pip install flake8
env:
  - LD_LIBRARY_PATH=/usr/lib/llvm-8/lib
jobs:
  include:
    - stage: flake
      script: flake8 cnaming bin tests
    - stage: install
      script: python setup.py install
    - stage: test
      script: python setup.py test
